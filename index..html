<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chamados TI</title>
    <link rel="stylesheet" href="style.css">
</head>


<body>
    <div class="container">
        <div class="form-image">
            <img src="img/programador.svg">
        </div>
        <div class="form">
            <form name="chamados" action="https://obrigada.neocities.org/">
                <div class="form-header">
                    <div class="title">
                        <h1>Preencha com seus dados</h1>
                    </div>
                </div>
                <div class="input-group">
                    <div class="input-box">
                        <label for="text">Assunto do chamado</label>
                        <input id="titulo" type="text" name="titulo" placeholder="Digite aqui" required>
                    </div>
                    <div class="input-box">
                        <label for="textarea">Descrição</label>
                        <input id="descricao" type="text" name="descricao" placeholder="Digite aqui" required>

                        <div class="input-box">
                            <label for="firstname">Primeiro nome</label>
                            <input id="nome" type="text" name="nome" placeholder="Digite seu primeiro nome" required>
                            <label for="lastname">Sobrenome</label>
                            <input id="sobrenome" type="text" name="sobrenome" placeholder="Digite seu sobrenome"
                                required>
                        </div>
                        <div class="campo">
                            <label>Secretaria</label>
                            <select id="Secretaria" name="secretaria" required>
                                <option selected disabled value="">Selecione</option>
                                <option>Administração</option>
                                <option>Assistência Social</option>
                                <option>Casa Civil</option>
                                <option>Comunicação Social</option>
                                <option>Controle Interno e Transparência</option>
                                <option>Cultura e Turismo</option>
                                <option>Desenvolvimento Econômico e Inovação</option>
                                <option>Educação</option>
                                <option>Esporte e Lazer</option>
                                <option>Finanças</option>
                                <option>Gabinete do vice-prefeito</option>
                                <option>Infraestrutura</option>
                                <option>Meio ambiente</option>
                                <option>Planejamento e Assuuntos Estratégicos</option>
                                <option>Procuradoria Geral</option>
                                <option>Receita</option>
                                <option>São José Previdência</option>
                                <option>Saúde</option>
                                <option>Segurança</option>
                                <option>SUSP</option>
                        </div>
                        <br>
                        <div class="input-box">
                            <label for="text">Setor</label>
                            <input id="setor" type="text" name="setor" placeholder="Setor" required>
                        </div>
                        <div class="input-box">
                            <label for="number">Ramal ou número para contato</label>
                            <input id="ramal" type="tel" name="ramal"
                                placeholder="Digite seu ramal ou número para contato" required>
                        </div>
                        <div class="input-box">
                            <label for="email">E-mail</label>
                            <input id="email" type="email" name="email" placeholder="Digite seu email" required>
                        </div>
                        <div class="solicitacao-input">
                            <label for="Solicitacao" name="solicitacao" id="solicitacao">Solicitação:</label>
                            <label>
                                <input type="radio" name="solicitacao"
                                    value="Acesso a pastas / Criação de usuário">Acesso a pastas
                            </label>
                            <label>
                                <input type="radio" name="solicitacao"
                                    value="Acesso a pastas / Criação de usuário">Criação de usuário
                            </label>
                            <label>
                                <input type="radio" name="solicitacao" value="Certificado Digital">Certificado Digital
                            </label>
                            <label>
                                <input type="radio" name="solicitacao" value="Computador">Computador
                            </label>
                            <label>
                                <input type="radio" name="solicitacao" value="E-mail">E-mail
                            </label>
                            <label>
                                <input type="radio" name="solicitacao" value="Monitor">Monitor
                            </label>
                            <label>
                                <input type="radio" name="solicitacao" value="Mouse / teclado">Mouse / teclado
                            </label>
                            <label>
                                <input type="radio" name="solicitacao" value="Rede">Rede
                            </label>
                            <label>
                                <input type="radio" name="solicitacao" value="Sites / Softwares">Sites / Softwares
                            </label>
                            <label>
                                <input type="radio" name="solicitacao" value="Telefone">Telefone
                            </label>
                            <label>
                                <input type="radio" name="solicitacao" value="Outros">Outros
                            </label>
                        </div>
                        <div class="input-box">
                            <label for="text">Patrimônio</label>
                            <input id="patrimonio" type="text" name="patrimonio" placeholder="Patrimônio" required>
                        </div>
                        <div class="campo">
                            <form action="processa_imagem_perfil.php" method="post" enctype="multipart/form-data">
                                <label>Anexos<input type="file" id="anexos" name="anexos"></label>
                                <a href="https://obrigada.neocities.org/"><button>Enviar chamado</button></a>
                                <div id="form_alerts"></div>
                                <div name="sua id" class="campo"> Guarde sua ID:
                                    <div name="id" id="id" type="id"></div>
                                </div>



                            </form>

                            <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                            <script>
                                const scriptURL = 'https://script.google.com/macros/s/AKfycbwBF1Hdn-NIT4QWW816vNWbROXctFGQx8ldz0BcZilRJlLGrIurKXF4jhvvQp0TBzGt3g/exec'
                                const form = document.forms['chamados']

                                form.addEventListener('submit', e => {
                                    e.preventDefault()
                                    fetch(scriptURL, { method: 'POST', body: new FormData(form) })
                                        .then(response => $("#form_alerts").html("<div class='alert alert-success'>Chamado enviado! Um dos nossos técnicos entrará em contato."))
                                        .catch(error => $("#form_alerts").html("<div class='alert alert-danger'>Chamado não enviado. Ligue no 4310"))
                                })
                            </script>
                            <script>
                                function generateUUID() { // Public Domain/MIT
                                    var d = new Date().getTime();//Timestamp
                                    var d2 = ((typeof performance !== 'undefined') && performance.now && (performance.now() * 1000)) || 0;//Time in microseconds since page-load or 0 if unsupported
                                    return 'xxxx-4xxx-yxxx'.replace(/[xy]/g, function (c) {
                                        var r = Math.random() * 16;//random number between 0 and 16
                                        if (d > 0) {//Use timestamp until depleted
                                            r = (d + r) % 16 | 0;
                                            d = Math.floor(d / 16);
                                        } else {//Use microseconds since page-load if supported
                                            r = (d2 + r) % 16 | 0;
                                            d2 = Math.floor(d2 / 16);
                                        }
                                        return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);
                                    });
                                }
                                var onClick = function () {
                                    document.getElementById('id').textContent = generateUUID();
                                }
                                onClick();
                                google.script.run.gs_generateUUID()

                            </script>
                        </div>
                    </div>

</body>

</html>